---
modules:
  - .efm_client
---
code: |
  proxy_conn = ProxyConnection()
---
mandatory: True
code: |
  introduction
  person_to_reg.email
  register
  register_status
---
code: |
  resp = proxy_conn.register_user(person_to_reg, registration_type='INDIVIDUAL')
  register = True
---
objects:
  - person_to_reg: Individual
---
question: |
  This website will help you register as an e-file user in Illinois
continue button field: introduction  
---
question: |
  Register new user
fields:
  - Email address: person_to_reg.email
    datatype: email
  - Phone number: person_to_reg.phone_number
    required: False    
  - First name: person_to_reg.name.first
  - Middle name: person_to_reg.name.middle
    required: False
  - Last name: person_to_reg.name.last
  - note: |
      ---
  - Street address: person_to_reg.address.address
    required: False
    address autocomplete: True
  - Unit: person_to_reg.address.unit
    required: False
  - City: person_to_reg.address.city
  - State: person_to_reg.address.state
    code: states_list()
    default: IL
  - Zip: person_to_reg.address.zip
  - Country: person_to_reg.address.country
    code: countries_list()
    default: US
---
event: register_status
question: |
  % if resp.is_ok():
  Successfully registered
  % else:
  Something went wrong when we tried to register your account
  % endif
subquestion: |
  % if resp.is_ok():
  You will get an email from eFileIl asking you to reset your password.
  % endif
buttons:
  - restart
